# Build Instructions

Building assumes that you are in a Debian-based Linux distribution.

To make a 'distribution build', add `dist` as a make argument.

## Dependencies

### Standard Compilation
- `g++` (build-essential)
- `make`

### OPTIMIZATION (IMPORTANT FOR INTENDED PERFORMANCE)
**Make Argument:** `optimize=1`
**Description:** Enables all 'necessary' optimization flags, specifically `-O3 -fno-math-errno -fno-trapping-math`.
**Note:** miniaudio code will be optimized with `-O2` instead of `-O3` for safety.

### OPTIMIZATION (EXPERIMENTAL / VERY RISKY)
**Make Argument:** `optimize=2`
**Description:** Enables dangerous optimization flags, specifically `-Ofast -flto`.
**Note:** miniaudio code will also be optimized with `-O3`.

### OPTIMIZATION (FOR YOUR NATIVE CPU, EXPERIMENTAL / VERY RISKY)
**Make Argument:** `optimize=3`
**Description:** Same as above but forces `-march=native`.

### Platform: X11 x64 (Default, uses engine_x11.cpp)
**Make Argument:** `platform=x11`
**Packages:**
- `libx11-dev`

### Platform: X11 i686 (Compatibility for older systems, uses engine_x11.cpp)
**Make Argument:** `platform=retrox11`
**Packages:**
- `libx11-dev`
**Note:** This creates 32-bit binaries!

### Platform: X11 x64v3 (Performance for newer computers, uses engine_x11.cpp)
**Make Argument:** `platform=modernx11`
**Packages:**
- `libx11-dev`

### Platform: XCB x64 (Experimental, uses engine_xcb.cpp)
**Make Argument:** `platform=xcb`
**Packages:**
- `libxcb1-dev`
- `libxcb-image0-dev` (Optional/Future use)
- `libxcb-keysyms1-dev` (Recommended for better input, currently optional)

### Platform: XCB x64v3 (Experimental, Performance for newer computers, uses engine_xcb.cpp)
**Make Argument:** `platform=modernxcb`
**Packages:**
- `libxcb1-dev`
- `libxcb-image0-dev` (Optional/Future use)
- `libxcb-keysyms1-dev` (Recommended for better input, currently optional)

### Platform: GDI + Windows i686 (Experimental, Windows XP 32-bit)
**Make Argument:** `platform=gdi`
**Packages:**
- `g++-mingw-w64-i686-win32` (MinGW cross-compiler for Windows)
**Note:** This creates 32-bit Windows executables (.exe) targeting Windows XP 32-bit. Only supports no optimization or `optimize=1`. Has only been tested on Linux with Wine. Performance is expected to be poor on Windows Vista and later.

### Platform: D3D11 + Windows x64 (Experimental, Windows Vista SP2 or newer, 64-bit)
**Make Argument:** `platform=d3d11`
**Packages:**
- `g++-mingw-w64-x86-64-win32` (MinGW-w64 cross-compiler for 64-bit Windows)
**Note:** This creates 64-bit Windows executables (.exe) targeting Windows Vista SP2 or newer. Only supports no optimization or `optimize=1`.

### Audio (All Platforms)
Audio is handled via `miniaudio` (included), requires:
- `libdl` (Dynamic Linking)
- `libpthread` (Threading)
- `libm` (Math)
